"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[409],{6394:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"curation/curation-api","title":"Curation via API","description":"This document explains the process of curating licenses by interacting with the specified API endpoint. It provides a detailed breakdown of the JSON payload required and explains each key in the context of licensing curation.","source":"@site/docs/curation/curation-api.md","sourceDirName":"curation","slug":"/curation/curation-api","permalink":"/docs/curation/curation-api","draft":false,"unlisted":false,"editUrl":"https://github.com/clearlydefined/clearlydefined/tree/main/docs/curation/curation-api.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"layout":"default","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Curation via UI","permalink":"/docs/curation/curation-process"},"next":{"title":"Donating data","permalink":"/docs/curation/data-donation"}}');var t=i(4848),o=i(8453);const r={layout:"default",sidebar_position:3},a="Curation via API",c={},l=[{value:"API Endpoint",id:"api-endpoint",level:2},{value:"Method",id:"method",level:3},{value:"Complete JSON Payload Example",id:"complete-json-payload-example",level:3},{value:"Explanation on Payload structure",id:"explanation-on-payload-structure",level:3},{value:"Contribution Information",id:"contribution-information",level:3},{value:"Coordinates",id:"coordinates",level:3},{value:"Revisions",id:"revisions",level:3},{value:"Sending the Request",id:"sending-the-request",level:2},{value:"File level Curation",id:"file-level-curation",level:2},{value:"Explaination",id:"explaination",level:5}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"curation-via-api",children:"Curation via API"})}),"\n",(0,t.jsx)(n.p,{children:"This document explains the process of curating licenses by interacting with the specified API endpoint. It provides a detailed breakdown of the JSON payload required and explains each key in the context of licensing curation."}),"\n",(0,t.jsx)(n.h2,{id:"api-endpoint",children:"API Endpoint"}),"\n",(0,t.jsx)(n.p,{children:"The API endpoint to be used for curating licenses is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"https://api.clearlydefined.io/curations\n"})}),"\n",(0,t.jsx)(n.h3,{id:"method",children:"Method"}),"\n",(0,t.jsx)(n.p,{children:"HTTP method to be used for interacting with the API endpoint is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PATCH\n"})}),"\n",(0,t.jsx)(n.h3,{id:"complete-json-payload-example",children:"Complete JSON Payload Example"}),"\n",(0,t.jsx)(n.p,{children:"Below is the full JSON payload structure with all elements combined, which can be used to send a PATCH request to the API endpoint:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "contributionInfo": {\n    "summary": "org.glassfish.jersey.core:jersey-client 2.25.1",\n    "details": "Add CDDL-1.1 OR GPL-2.0-only WITH Classpath-exception-2.0",\n    "resolution": "https://repo1.maven.org/maven2/org/glassfish/jersey/core/jersey-client/2.25.1/jersey-client-2.25.1.pom",\n    "type": "Incorrect"\n  },\n  "patches": [\n    {\n      "coordinates": {\n        "type": "maven",\n        "provider": "mavencentral",\n        "namespace": "org.glassfish.jersey.core",\n        "name": "jersey-client"\n      },\n      "revisions": {\n        "2.25.1": {\n          "licensed": {\n            "declared": "CDDL-1.1 OR GPL-2.0-only WITH Classpath-exception-2.0"\n          }\n        }\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"explanation-on-payload-structure",children:"Explanation on Payload structure"}),"\n",(0,t.jsx)(n.p,{children:"To curate licenses for a software package, you need to send a JSON payload with specific information about the contribution and the revisions. Below is an elaborated explanation of the JSON payload structure."}),"\n",(0,t.jsx)(n.h3,{id:"contribution-information",children:"Contribution Information"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"contributionInfo"})," object encapsulates the details about the contribution related to licensing. It includes the following keys:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"summary"}),": A short summary of the nature of the contribution. This corresponds to the ",(0,t.jsx)(n.code,{children:"title"})," field in the UI."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"details"}),": A detailed description of the contribution."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"resolution"}),": The resolution or method applied to address the issue described in the contribution."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"type"}),": The type of issue or curation being addressed. Example: ",(0,t.jsx)(n.code,{children:'"Missing"'}),". The type is limited to values from the list below:"]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Missing"}),"\n",(0,t.jsx)(n.li,{children:"Incorrect"}),"\n",(0,t.jsx)(n.li,{children:"Incomplete"}),"\n",(0,t.jsx)(n.li,{children:"Ambiguous"}),"\n",(0,t.jsx)(n.li,{children:"Other"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"coordinates",children:"Coordinates"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"coordinates"})," object provides the necessary details to identify the software component whose license is being curated. It includes:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"type"}),": The package management system type (e.g., ",(0,t.jsx)(n.code,{children:'"maven"'}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"provider"}),": The source or provider of the package (e.g., ",(0,t.jsx)(n.code,{children:'"mavencentral"'}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"namespace"}),": The namespace under which the package is categorized (e.g., ",(0,t.jsx)(n.code,{children:'"org.glassfish.jersey.core"'}),"). In case namespace is not present in the coordinate, you can remove the namespace field or you can provide '-' as the value."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"name"}),": The name of the package (e.g., ",(0,t.jsx)(n.code,{children:'"jersey-client"'}),")."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"revisions",children:"Revisions"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"revisions"})," object maps specific versions of the package to their respective license information."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"version number"}),": Denotes the particular version of the package (e.g., ",(0,t.jsx)(n.code,{children:'"2.25.1"'}),")."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"licensed"}),": An object containing declared licensing information."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"declared"}),": The license(s) declared for the specified package version (e.g., ",(0,t.jsx)(n.code,{children:'"Apache-1.0 AND MIT"'}),")."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Please note that the license expression should follow SPDX naming conventions. For more information, refer to ",(0,t.jsx)(n.a,{href:"https://spdx.org/licenses/",children:"SPDX Licenses"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For complex license expression please follow ",(0,t.jsx)(n.a,{href:"https://spdx.github.io/spdx-spec/v3.0.1/annexes/spdx-license-expressions/#composite-license-expressions",children:"Composite License Expressions"})]}),"\n",(0,t.jsx)(n.h2,{id:"sending-the-request",children:"Sending the Request"}),"\n",(0,t.jsxs)(n.p,{children:["To send the curation request, perform an HTTP PATCH request with the JSON payload to the specified API endpoint. Here is an example using ",(0,t.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X PATCH https://api.clearlydefined.io/curations \\\n-H "accept: application/json" \\\n-H "Content-Type: application/json" \\\n-d \'{\n    "contributionInfo": {\n        "summary": "org.glassfish.jersey.core:jersey-client 2.25.1",\n        "details": "Add CDDL-1.1 OR GPL-2.0-only WITH Classpath-exception-2.0",\n        "resolution": "https://repo1.maven.org/maven2/org/glassfish/jersey/core/jersey-client/2.25.1/jersey-client-2.25.1.pom",\n        "type": "Incorrect"\n    },\n    "patches": [\n        {\n            "coordinates": {\n                "type": "maven",\n                "provider": "mavencentral",\n                "namespace": "org.glassfish.jersey.core",\n                "name": "jersey-client"\n            },\n            "revisions": {\n                "2.25.1": {\n                    "licensed": {\n                        "declared": "CDDL-1.1 OR GPL-2.0-only WITH Classpath-exception-2.0"\n                    }\n                }\n            }\n        }\n    ]\n}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Alternatively you can also use some API Client tool to send the above request."}),"\n",(0,t.jsx)(n.h2,{id:"file-level-curation",children:"File level Curation"}),"\n",(0,t.jsx)(n.p,{children:"In addition to curating the declared license for a package, curation can also be performed at the file level. For example, you may want to update the license information specifically for individual files such as package/README.markdown and package/package.json. Furthermore, you can update both the license details and attributions within files like package/LICENSE.markdown. To accomplish this, you can use the payload shown below"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "contributionInfo": {\n    "summary": "jszip 3.1.5 license clarification",\n    "details": "Add/clarify license information and attributions for jszip 3.1.5",\n    "resolution": "https://github.com/Stuk/jszip",\n    "type": "Incomplete"\n  },\n  "patches": [\n    {\n      "coordinates": {\n      "type": "npm",\n      "provider": "npmjs",\n      "name": "jszip"\n      },\n      "revisions": {\n        "3.1.5": {\n          "described": {\n            "releaseDate": "2025-11-09",\n            "sourceLocation": {\n              "name": "jszip",\n              "namespace": "Stuk",\n              "provider": "github",\n              "revision": "a4138a23cb9b8eb773c19af7d36d5ce2bcf4bfda",\n              "type": "git",\n              "url": "https://github.com/Stuk/jszip/commit/a4138a23cb9b8eb773c19af7d36d5ce2bcf4bfda"\n            }\n          },\n          "files": [\n            {\n              "path": "package/README.markdown",\n              "license": "GPL-3.0-only OR MIT"\n            },\n            {\n              "path": "package/package.json",\n              "license": "GPL-3.0-only OR MIT"\n            },\n            {\n              "path": "package/LICENSE.markdown",\n              "license": "GPL-3.0-only OR MIT",\n              "attributions": [\n                "Copyright (c) 2007 Free Software Foundation, Inc. http://fsf.org/",\n                "Copyright (c) 2009-2016 Stuart Knightley, David Duponchel, Franz Buchinger, Antonio Afonso"\n              ]\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["This is the test PR that was generated for the dev repository with above payload: ",(0,t.jsx)(n.a,{href:"https://github.com/clearlydefined/curated-data-dev/pull/1585/files",children:"PR#1585"})]}),"\n",(0,t.jsx)(n.h5,{id:"explaination",children:"Explaination"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"revisions:"})," The revisions object maps specific versions of the package to their respective license information."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"version number:"}),' Denotes the particular version of the package (e.g., "3.1.5").']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"files:"})," An array of object containing file name and information to be updated."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"path:"})," An attribute containing the path of file whose information needs to be updated."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"license:"}),' The license(s) declared for the specified file (e.g., "Apache-1.0 AND MIT").']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"attributions:"})," An array of string, containing attributions to be assigned to this file."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(6540);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);